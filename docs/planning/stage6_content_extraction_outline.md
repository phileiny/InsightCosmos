# Stage 6: Content Extraction Tool - è§„åˆ’å¤§çº²

> **é˜¶æ®µç¼–å·**: Stage 6
> **é˜¶æ®µç›®æ ‡**: å®ç°æ–‡ç« å†…å®¹æå–å·¥å…·ï¼ŒæŠ“å– URL å®Œæ•´æ­£æ–‡
> **å‰ç½®ä¾èµ–**: Stage 5 å®Œæˆï¼ˆScout Agentï¼‰
> **é¢„è®¡æ—¶é—´**: 1 å¤©
> **çŠ¶æ€**: Outlineï¼ˆå¾…è¯¦ç»†è§„åˆ’ï¼‰

---

## ğŸ¯ æ ¸å¿ƒç›®æ ‡

å®ç° Content Extraction Toolï¼Œä¸º Analyst Agent æä¾›å®Œæ•´çš„æ–‡ç« å†…å®¹ã€‚

**æ ¸å¿ƒåŠŸèƒ½**:
1. URL å†…å®¹æŠ“å–ï¼ˆHTTP è¯·æ±‚ï¼‰
2. HTML è§£æä¸æ¸…æ´—
3. ä¸»ä½“å†…å®¹æå–
4. åçˆ¬è™«å¤„ç†
5. é”™è¯¯å¤„ç†ä¸é‡è¯•

---

## ğŸ“¥ è¾“å…¥è¾“å‡º

### è¾“å…¥
- URL åˆ—è¡¨ï¼ˆæ¥è‡ª Scout Agent çš„æ–‡ç« ï¼‰
- å¯é€‰ï¼šæå–é…ç½®ï¼ˆè¶…æ—¶ã€é‡è¯•æ¬¡æ•°ç­‰ï¼‰

### è¾“å‡º
```python
{
    "status": "success" | "error",
    "url": "https://...",
    "title": "æå–çš„æ ‡é¢˜",
    "content": "æå–çš„æ­£æ–‡å†…å®¹ï¼ˆçº¯æ–‡æœ¬æˆ– Markdownï¼‰",
    "author": "ä½œè€…å",
    "published_date": datetime,
    "images": ["image_url_1", "image_url_2"],
    "error_message": str  # å¦‚æœå¤±è´¥
}
```

---

## ğŸ› ï¸ æŠ€æœ¯é€‰å‹

### é€‰é¡¹ 1: BeautifulSoup + Readability-lxml âœ… æ¨è
- **ä¼˜ç‚¹**: è½»é‡ã€å¿«é€Ÿã€æ— éœ€æµè§ˆå™¨
- **ç¼ºç‚¹**: æ— æ³•å¤„ç† JavaScript æ¸²æŸ“çš„é¡µé¢

### é€‰é¡¹ 2: Trafilatura
- **ä¼˜ç‚¹**: ä¸“ä¸ºæ–°é—»æ–‡ç« è®¾è®¡ã€æå–è´¨é‡é«˜
- **ç¼ºç‚¹**: é¢å¤–ä¾èµ–

### é€‰é¡¹ 3: Newspaper3k
- **ä¼˜ç‚¹**: åŠŸèƒ½å®Œæ•´ã€æ”¯æŒå¤šè¯­è¨€
- **ç¼ºç‚¹**: ç»´æŠ¤ä¸æ´»è·ƒ

### é€‰é¡¹ 4: Playwright/Seleniumï¼ˆå¤‡é€‰ï¼‰
- **ä¼˜ç‚¹**: æ”¯æŒ JavaScript æ¸²æŸ“
- **ç¼ºç‚¹**: é‡é‡çº§ã€æ…¢

**å†³ç­–**: å…ˆä½¿ç”¨ **BeautifulSoup + è‡ªå®šä¹‰æå–é€»è¾‘**ï¼Œå¦‚éœ€å¢å¼ºå¯å¼•å…¥ Trafilatura

---

## ğŸ“‹ å¾…è§£å†³é—®é¢˜

1. **å¦‚ä½•è¯†åˆ«ä¸»ä½“å†…å®¹**ï¼Ÿ
   - åŸºäºæ ‡ç­¾ï¼ˆarticle, main, .contentç­‰ï¼‰
   - åŸºäºæ–‡æœ¬å¯†åº¦
   - ä½¿ç”¨ Readability ç®—æ³•

2. **å¦‚ä½•å¤„ç†åçˆ¬è™«**ï¼Ÿ
   - User-Agent ä¼ªè£…
   - è¯·æ±‚å»¶è¿Ÿ
   - ä»£ç†ï¼ˆå¯é€‰ï¼‰

3. **å¦‚ä½•å¤„ç†ä¸åŒç½‘ç«™çš„å·®å¼‚**ï¼Ÿ
   - é€šç”¨æå–ç®—æ³•
   - ç‰¹å®šç½‘ç«™çš„è§„åˆ™ï¼ˆå¯é€‰ï¼‰

4. **å†…å®¹æ ¼å¼**ï¼Ÿ
   - çº¯æ–‡æœ¬ï¼ˆç®€å•ï¼‰
   - Markdownï¼ˆç»“æ„åŒ–ï¼‰
   - HTMLï¼ˆä¿ç•™æ ¼å¼ï¼‰

---

## ğŸ§ª æµ‹è¯•ç­–ç•¥

### æµ‹è¯• URL æ¸…å•
- TechCrunchï¼ˆæ ‡å‡†æ–°é—»ï¼‰
- Mediumï¼ˆåšå®¢å¹³å°ï¼‰
- GitHub READMEï¼ˆä»£ç æ–‡æ¡£ï¼‰
- arXivï¼ˆå­¦æœ¯è®ºæ–‡ï¼‰
- ä¸ªäººåšå®¢

### æµ‹è¯•åœºæ™¯
1. æ­£å¸¸æå–ï¼ˆ200 OKï¼‰
2. 404 é”™è¯¯
3. 403 ç¦æ­¢è®¿é—®
4. è¶…æ—¶
5. è§£æå¤±è´¥

---

## ğŸ“ å¼€å‘æ¸…å•

- [ ] ç ”ç©¶å†…å®¹æå–åº“ï¼ˆBeautifulSoup, Trafilaturaç­‰ï¼‰
- [ ] ç¡®å®šæŠ€æœ¯æ–¹æ¡ˆ
- [ ] åˆ›å»ºè¯¦ç»†è§„åˆ’æ–‡æ¡£
- [ ] å®ç°æ ¸å¿ƒæå–é€»è¾‘
- [ ] å®ç°é”™è¯¯å¤„ç†
- [ ] ç¼–å†™å•å…ƒæµ‹è¯•
- [ ] ç¼–å†™å®ä½œä¸éªŒè¯æ–‡æ¡£

---

## ğŸ”— å‚è€ƒèµ„æ–™

### æŠ€æœ¯æ–‡æ¡£
- BeautifulSoup: https://www.crummy.com/software/BeautifulSoup/
- Readability: https://github.com/buriy/python-readability
- Trafilatura: https://trafilatura.readthedocs.io/
- Newspaper3k: https://newspaper.readthedocs.io/

### å†…éƒ¨å‚è€ƒ
- `docs/planning/stage3_rss_tool.md` - ç±»ä¼¼çš„ç½‘ç»œè¯·æ±‚å¤„ç†
- `CLAUDE.md` - å·¥å…·è®¾è®¡è§„èŒƒ

---

**åˆ›å»ºæ—¥æœŸ**: 2025-11-23
**çŠ¶æ€**: Outlineï¼ˆå¾…å®Œå–„ï¼‰
**ä¸‹ä¸€æ­¥**: å‘Šè¯‰ Claude "å¼€å§‹è¿›è¡Œ Stage 6 - Content Extraction Tool"
